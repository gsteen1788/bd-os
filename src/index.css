@import "tailwindcss";

@theme {
  /* Colors - Base */
  --color-base-100: hsl(var(--color-bg-base));
  --color-base-200: hsl(var(--color-bg-surface));
  --color-base-300: hsl(var(--color-bg-surface-hover));

  /* Colors - Primary */
  --color-primary: hsl(var(--color-primary));
  --color-primary-hover: hsl(var(--color-primary-hover));
  --color-primary-glow: hsl(var(--color-primary-glow));

  /* Colors - Semantic */
  --color-muted: hsl(var(--color-text-muted));
  --color-main: hsl(var(--color-text-main));
  --color-dim: hsl(var(--color-text-dim));
  --color-success: hsl(var(--color-success));
  --color-warning: hsl(var(--color-warning));
  --color-error: hsl(var(--color-danger));

  /* Typography */
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;

  /* Radius */
  --radius-xl: var(--radius-xl);
}

@layer base {
  :root {
    /* HSL Color Palette - "Cosmic Glass" Theme */
    color-scheme: dark;
    --hue-base: 222;
    --hue-primary: 250;

    --color-bg-base: 222 15% 10%;
    --color-bg-surface: 222 15% 14%;
    --color-bg-surface-hover: 222 15% 18%;
    --color-bg-glass: 222 15% 14% / 0.7;

    --color-primary: 250 80% 65%;
    --color-primary-hover: 250 80% 70%;
    --color-primary-glow: 250 80% 65% / 0.3;

    --color-text-main: 222 10% 98%;
    --color-text-muted: 222 10% 65%;
    --color-text-dim: 222 10% 45%;

    --color-border: 222 15% 22%;
    --color-border-hover: 222 15% 30%;

    --color-danger: 0 85% 65%;
    --color-success: 150 80% 50%;
    --color-warning: 35 85% 60%;
  }

  /* Solarised Light Theme */
  .theme-solar {
    color-scheme: light;
    --hue-base: 44;
    --hue-primary: 192;

    --color-bg-base: 44 87% 94%;
    --color-bg-surface: 44 87% 96%;
    --color-bg-surface-hover: 44 87% 90%;
    --color-bg-glass: 44 87% 94% / 0.8;

    --color-primary: 192 100% 30%;
    --color-primary-hover: 192 100% 35%;
    --color-primary-glow: 192 100% 30% / 0.2;

    --color-text-main: 192 15% 35%;
    --color-text-muted: 192 10% 55%;
    --color-text-dim: 192 10% 75%;

    --color-border: 44 15% 85%;
    --color-border-hover: 44 15% 75%;

    --color-danger: 350 70% 50%;
    --color-success: 85 65% 45%;
    --color-warning: 45 100% 40%;
  }

  /* King's Quest Theme */
  .theme-kings-quest {
    color-scheme: dark;
    --hue-base: 25;
    --hue-primary: 45;

    --color-bg-base: 25 25% 15%;
    --color-bg-surface: 25 25% 20%;
    --color-bg-surface-hover: 25 25% 25%;
    --color-bg-glass: 25 25% 15% / 0.85;

    --color-primary: 45 90% 55%;
    --color-primary-hover: 45 90% 65%;
    --color-primary-glow: 45 90% 55% / 0.4;

    --color-text-main: 40 50% 90%;
    --color-text-muted: 40 30% 60%;
    --color-text-dim: 40 20% 40%;

    --color-border: 25 30% 30%;
    --color-border-hover: 45 90% 55%;

    --color-danger: 0 70% 50%;
    --color-success: 120 50% 40%;
    --color-warning: 30 90% 50%;
  }

  /* Common Variables (Radius, Spacing, Shadows) */
  :root {
    /* Radius vars used in @theme */
    --radius-xl: 24px;
    --radius-lg: 16px;
    --radius-md: 12px;
    --radius-sm: 6px;
    --radius-full: 9999px;

    /* Spacing */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-8: 48px;

    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15);
    --shadow-glow: 0 0 15px var(--color-primary-glow);
  }

  body {
    @apply bg-base-100 text-main font-sans antialiased leading-normal m-0;
    color: hsl(var(--color-text-main));
    /* Force native controls to dark mode removed - let color-scheme handle it */
  }

  /* Calendar picker invert removed */

  /* Select Options - Fix visibility in dark mode */
  select option {
    background-color: hsl(var(--color-bg-base));
    color: hsl(var(--color-text-main));
  }
}



@layer components {

  /* Glassmorphism */
  .glass {
    background-color: hsl(var(--color-bg-glass));
    @apply backdrop-blur-md border border-white/5;
  }

  /* Components */
  .card {
    background-color: hsl(var(--color-bg-surface));
    border-color: hsl(var(--color-border));
    @apply border rounded-lg p-6 shadow-md transition-all duration-200 ease-out;
  }

  .card:hover {
    border-color: hsl(var(--color-border-hover));
    @apply shadow-lg;
  }

  .btn {
    background-color: hsl(var(--color-primary));
    @apply text-white px-5 py-2.5 rounded-md border-none font-semibold text-sm tracking-wide cursor-pointer transition-all duration-200 shadow-sm;
  }

  .btn:hover {
    background-color: hsl(var(--color-primary-hover));
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), var(--shadow-glow);
    @apply -translate-y-px;
  }

  .btn:active {
    @apply translate-y-0;
  }

  .btn-success {
    background-color: hsl(var(--color-success));
    @apply text-white px-5 py-2.5 rounded-md border-none font-semibold text-sm tracking-wide cursor-pointer transition-all duration-200 shadow-sm;
  }

  .btn-success:hover {
    filter: brightness(1.1);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    @apply -translate-y-px;
  }

  .btn-error {
    background-color: hsl(var(--color-error));
    @apply text-white px-5 py-2.5 rounded-md border-none font-semibold text-sm tracking-wide cursor-pointer transition-all duration-200 shadow-sm;
  }

  .btn-error:hover {
    filter: brightness(1.1);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    @apply -translate-y-px;
  }

  .btn-ghost {
    @apply bg-transparent text-muted px-5 py-2.5 rounded-md border border-transparent cursor-pointer transition-all duration-200 font-medium;
    color: hsl(var(--color-text-muted));
  }

  .btn-ghost:hover {
    @apply bg-white/5;
    color: hsl(var(--color-text-main));
  }

  .input {
    @apply bg-black/20 border text-main px-3.5 py-2.5 rounded-md text-sm transition-all duration-200 font-sans;
    border-color: hsl(var(--color-border));
    color: hsl(var(--color-text-main));
  }

  .input:hover {
    border-color: hsl(var(--color-border-hover));
  }

  .input:focus {
    @apply outline-none ring-2 ring-primary/30 bg-black/30;
    border-color: hsl(var(--color-primary));
  }

  /* Modal / Dialog */
  .modal-overlay {
    @apply fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-[fadeIn_0.2s_ease-out];
  }

  .modal-container {
    background-color: hsl(var(--color-bg-base));
    border-color: hsl(var(--color-border));
    @apply border rounded-xl w-[600px] max-w-[90vw] max-h-[85vh] flex flex-col shadow-2xl ring-1 ring-white/5 overflow-hidden;
    animation: slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .modal-header {
    background-color: rgba(255, 255, 255, 0.02);
    border-bottom-color: hsl(var(--color-border));
    @apply p-6 border-b flex justify-between items-center;
  }

  .modal-header h3 {
    @apply m-0 text-xl font-semibold -tracking-wide;
  }

  .modal-body {
    @apply p-6 overflow-y-auto;
  }

  .modal-footer {
    border-top-color: hsl(var(--color-border));
    @apply p-6 border-t flex justify-end gap-3 bg-black/20;
  }

  /* Tabs */
  .tabs {
    @apply flex flex-wrap gap-1 border-b border-white/10 mb-4;
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium text-muted cursor-pointer transition-colors border-b-2 border-transparent hover:text-main;
  }

  .tab-active {
    @apply text-main border-primary;
    border-color: hsl(var(--color-primary));
  }

  .tab-bordered {
    /* Optional: simplistic override if needed, but the base tab handles the border-b */
  }
}

/* Custom Grid System for Manual Setup (keeping until refactor) */
.grid-mit-cards {
  @apply grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(30px) scale(0.98);
    opacity: 0;
  }

  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}